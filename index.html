<!DOCTYPE html>
<html>
	<head>
		<title>Minesweeper</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
		<canvas id="gameboard"></canvas>
		<script src="minesweeper.js"></script>
		<div id="console"></div>
		<script>
			var canvas = document.getElementById('gameboard');
			var ms = new Minesweeper(canvas, 10, 7, 5);
			
			canvas.addEventListener('ms-game-end', function(e){
				var ms = e.detail;
				var status = ms.won ? "won" : "lost";
				var mines = ms.mine_count;
				var time = ms.getGameTime();
				var restart = confirm(`You ${status} this ${mines}-mine game in ${time}. Would you like to play again?`);
				if(restart) ms.resetGame();
			});
		</script>
	</body>
</html>
